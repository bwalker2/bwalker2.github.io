/*!
 * rivet-uits - @version 1.7.1
 * Copyright (C) 2018 The Trustees of Indiana University
 * SPDX-License-Identifier: BSD-3-Clause
 */
Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){var i=this,t=this;if(!document.documentElement.contains(i))return null;do{if(t.matches(n))return t;t=t.parentElement}while(t!==null);return null}),function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}if(typeof window.CustomEvent=="function")return!1;n.prototype=window.Event.prototype;window.CustomEvent=n}();var fireCustomEvent=function(n,t,i){var r=new CustomEvent(i,{bubbles:!0,detail:{name:function(){return n.getAttribute(t)}}});n.dispatchEvent(r)},Alert=function(){"use strict";function u(i){i===undefined&&(i=document);n(i);document.addEventListener("click",t,!1)}function n(n){n===undefined&&(n=document);document.removeEventListener("click",t,!1)}function i(n,t){var r,i;if(typeof n=="object"&&n.nodeType===1&&(r=n,n=r.getAttribute("id"),n||(n=r.getAttribute("aria-labelledby")),!n))throw new Error("Please proved an id attribute for the alert you want to dismiss.");if(i=document.querySelector('[aria-labelledby="'+n+'"]'),i||(i=document.getElementById(n)),!i)throw new Error("Could not find an alert with the id of "+n+" to dismiss.");i.parentNode.removeChild(i);t&&typeof t=="function"&&t()}var r="[data-alert-close], .rvt-alert__dismiss",t=function(n){var t=n.target.closest(r),u;t&&(u=t.parentNode,i(u))};return{init:u,destroy:n,dismiss:i}}(),Drawer=function(){"use strict";function u(n){var i={},r;return i.toggle=document.querySelector("["+t+'="'+n+'"]'),i.menu=document.getElementById(n),r=Array.prototype.slice.call(i.menu.querySelectorAll(l)),i.focusables=r,i.firstFocusable=r[0],i.lastFocusable=r[r.length-1],i}function f(r,f){var e=u(r);n=r;i=e.toggle;e.toggle.setAttribute("aria-expanded","true");e.menu.setAttribute("aria-hidden","false");fireCustomEvent(i,t,"drawerOpen");f&&typeof f=="function"&&f()}function r(n,i){var r=document.querySelector('[data-drawer-toggle="'+n+'"]'),u=document.getElementById(n);r.setAttribute("aria-expanded","false");u.setAttribute("aria-hidden","true");fireCustomEvent(r,t,"drawerClose");i&&typeof i=="function"&&i()}function a(n){var i=n.getAttribute(t);n.getAttribute("aria-expanded")==="true"?r(i):f(i)}function v(n){var t=document.querySelector('[data-subnav-toggle="'+n+'"]'),r=document.getElementById(n),i=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!i);r.setAttribute("aria-hidden",i)}function s(u){var s,h,c,e;if(u.clickedInDrawer=u.target.closest(".rvt-drawer")!==null?!0:!1,u.clickedInDrawer){u.target.closest("[data-subnav-toggle]")&&(s=u.target.closest("[data-subnav-toggle]"),h=s.getAttribute("data-subnav-toggle"),v(h));c=u.target.closest("[data-close-drawer], .rvt-drawer__bottom-close");c!==null&&(r(n),i.focus());return}if(e=u.target.closest(o),!e||e.getAttribute("aria-expanded")==="true"){if(!n)return;r(n);return}f(e.getAttribute(t))}function h(s){var a,y,h,l,v,c,p,w;switch(s.keyCode){case e.down:if(a=s.target.closest(o),a&&a!==null){y=a.getAttribute(t);h=u(y);h.toggle.getAttribute("aria-expanded")==="true"?h.firstFocusable.focus():f(y);return}if(s.target.closest("#"+n)){for(h=u(n),v=h.focusables.filter(function(n){return n.clientHeight>0}),h.visibleFocusables=v,c=0;c<h.visibleFocusables.length;c++)s.target===h.visibleFocusables[c]&&(l=c);if(p=h.visibleFocusables[l+1],!p){h.firstFocusable.focus();return}p.focus()}break;case e.up:if(s.target.closest("#"+n)){for(h=u(n),l,v=h.focusables.filter(function(n){return n.clientHeight>0}),h.visibleFocusables=v,c=0;c<h.visibleFocusables.length;c++)s.target===h.visibleFocusables[c]&&(l=c);if(w=h.visibleFocusables[l-1],!w){h.lastFocusable.focus();return}w.focus()}break;case e.escape:n&&r(n);i&&i!==null&&i.focus();n=null;i=null}}function c(n){n===undefined&&(n=document);document.removeEventListener("click",s,!1);document.removeEventListener("keydown",h,!1)}function y(n){n===undefined&&(n=document);c(n);document.addEventListener("click",s,!1);document.addEventListener("keydown",h,!1)}var e={up:38,down:40,tab:9,escape:27},l='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]',t="data-drawer-toggle",o="["+t+"]",n,i;return{init:y,destroy:c,open:f,close:r,toggle:a}}(),Dropdown=function(){"use strict";function f(u,f){var s,e,o;if(!u)throw new Error("You must provide a unique id for the menu you're trying to open.");if(n&&i(n),n=u,s="["+t+'="'+u+'"]',e=document.querySelector(s),!e.hasAttribute("disabled")){if(e&&e!==null&&(e.setAttribute("aria-expanded","true"),r=e),o=document.getElementById(u),!o)throw new Error('There was no menu found with an id attribute that matches the "data-dropdown-toggle" attribute on the dropdown toggle.');o.setAttribute("aria-hidden","false");fireCustomEvent(e,t,"dropdownOpen");f&&typeof f=="function"&&f()}}function i(n,i){var r,u;if(!n)throw new Error("You must provide a unique id for the menu you're trying to close.");if(r=document.querySelector("["+t+'="'+n+'"]'),!r.hasAttribute("disabled")){if(r&&r!==undefined&&r.setAttribute("aria-expanded","false"),u=document.getElementById(n),!u){if(n)return;throw new Error('There was no menu found with an id attribute that matches the "data-dropdown-toggle" attribute on the dropdown toggle.');}u.setAttribute("aria-hidden","true");fireCustomEvent(r,t,"dropdownClose");i&&typeof i=="function"&&i()}}function a(){var n=Array.prototype.slice.call(document.querySelectorAll("["+t+"]")),i=Array.prototype.slice.call(document.querySelectorAll(l));n.forEach(function(n){n.setAttribute("aria-expanded","false")});i.forEach(function(n){n.setAttribute("aria-hidden","true")})}function v(n,r){if(!n)throw new Error("You must provide a unique id for the menu you're trying to toggle.");var u=document.querySelector("["+t+'="'+n+'"]'),e=u.getAttribute("aria-expanded")==="true"||!1;e?i(n,r):f(n,r)}function e(n){var t={},i=Array.prototype.slice.call(n.querySelectorAll(c));return t.all=i,t.first=i[0],t.last=i[i.length-1],t}function o(r){var u=r.target.closest("["+t+"]"),e=r.target.closest("#"+n),o;if(e&&e!==null&&(r.clickedWithinMenu=!0),!u||u.getAttribute("aria-expanded")==="true"){if(!n)return;r.clickedWithinMenu||i(n);return}o=u.getAttribute(t);f(o)}function s(o){var a,v,w,s,l,c,h,y,p;switch(o.keyCode){case u.down:if(a=o.target.closest("["+t+"]"),a&&a!==null&&(v=a.getAttribute(t),w=document.getElementById(v),a.getAttribute("aria-expanded")==="true"&&(s=e(w),s.first.focus()),f(v)),o.target.closest("#"+n)!==null){for(l=o.target.closest("#"+n),s=e(l),h=0;h<s.all.length;h++)o.target==s.all[h]&&(c=h);if(y=s.all[c+1],!y){s.first.focus();return}y.focus()}break;case u.up:if(o.target.closest("#"+n)!==null){for(l=o.target.closest("#"+n),s=e(l),c,h=0;h<s.all.length;h++)o.target==s.all[h]&&(c=h);if(p=s.all[c-1],!p&&s.last!==undefined){s.last.focus();return}p.focus()}break;case u.escape:n&&i(n);r&&r!==null&&r.focus();n=null;r=null;break;case u.tab:if(o.target.closest("#"+n)!==null||undefined){for(l=o.target.closest("#"+n),s=e(l),c,h=0;h<s.all.length;h++)o.target==s.all[h]&&(c=h);if(document.activeElement==s.last&&!o.shiftKey){i(n);return}}}}function h(n){n===undefined&&(n=document);n.removeEventListener("click",o,!1);n.removeEventListener("keydown",s,!1)}function y(n){n===undefined&&(n=document);h(n);n.addEventListener("click",o,!1);n.addEventListener("keydown",s,!1)}var r,n,u={up:38,down:40,tab:9,escape:27},c='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]',l=".rvt-dropdown__menu",t="data-dropdown-toggle";return{open:f,close:i,closeAll:a,init:y,destroy:h,toggle:v}}(),Modal=function(){"use strict";function o(n){var t={};return t.trigger=document.querySelector("["+u+'="'+n+'"]'),t.body=document.getElementById(n),t}function s(i,r){if(typeof i=="object"&&i.nodeType===1&&(i=i.getAttribute("id"),!i))throw new Error("Please proved an id attribute for the modal you want to open.");var u=o(i);if(!u.body)throw new Error("Could not find a modal with the id of "+i+" to open.");t=u.body;n=u.trigger;u.body.setAttribute("aria-hidden","false");document.body.classList.add("rvt-modal-open");fireCustomEvent(t,"id","modalOpen");r&&typeof r=="function"&&r()}function r(n,i){if(typeof n=="object"&&n.nodeType===1&&(n=n.getAttribute("id"),!n))throw new Error("Please proved an id attribute for the modal you want to close.");var r=o(n);if(!r.body)throw new Error("Could not find a modal with the id of "+n+" to close.");r.body.setAttribute("aria-hidden","true");document.body.classList.remove("rvt-modal-open");fireCustomEvent(t,"id","modalClose");i&&typeof i=="function"&&i()}function p(t){var i=document.querySelector('[data-modal-trigger="'+t+'"');if(!i)throw new Error("Could not find a modal trigger with the id of "+t);n=i;i.focus()}function w(n){var i=document.getElementById(n);if(!i)throw new Error("Could not find a modal with the id of "+n);t=i;i.focus()}function h(e){var c,o,h;if(e.clickedInModal=e.target.closest(".rvt-modal__inner, .modal__inner")!==null?!0:!1,e.clickedInModal&&e.stopPropagation(),c=a+", "+v+", "+f,o=e.target.closest(c),o){h=o.getAttribute(u)||(o.getAttribute(i)&&o.getAttribute(i)!=="close"?o.getAttribute(i):!1)||e.target.closest(f);switch(o!==null){case o.hasAttribute(u):s(h);t.focus();break;case o.hasAttribute(i):e.preventDefault();r(h);n!==null&&n.focus();break;case o===h&&!e.clickedInModal:if(o.hasAttribute("data-modal-dialog"))return;r(h);n.focus();break;default:return}}}function b(n,t,i){document.activeElement===n&&(i.preventDefault(),t.focus())}function k(n,t,i){document.activeElement===t&&(i.preventDefault(),n.focus())}function c(i){var o=i.target.closest(f);if(o)switch(i.keyCode){case e.tab:var u=Array.prototype.slice.call(o.querySelectorAll(y)),s=u[0],h=u[u.length-1];i.shiftKey?b(s,h,i):k(s,h,i);break;case e.escape:if(t.hasAttribute("data-modal-dialog"))return;r(t.id);n!==null&&n.focus()}}function l(n){n===undefined&&(n=document);n.removeEventListener("click",h,!1);n.removeEventListener("keydown",c,!1)}function d(n){n===undefined&&(n=document);l(n);n.addEventListener("click",h,!1);n.addEventListener("keydown",c,!1)}var e={tab:9,escape:27},a="[data-modal-trigger]",u="data-modal-trigger",i="data-modal-close",v="[data-modal-close]",f=".rvt-modal, .modal",y='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="-1"]',n,t;return{init:d,destroy:l,open:s,close:r,focusTrigger:p,focusModal:w}}(),Tabs=function(){function i(n){return Array.prototype.slice.call(n)}function s(n){n.setAttribute("aria-selected","true");n.removeAttribute("tabindex")}function h(n){n.setAttribute("aria-selected","false");n.setAttribute("tabindex","-1")}function r(n,r){var c='[data-tab="'+n+'"], [aria-controls="'+n+'"]',u=document.querySelector(c),e;if(!u){console.warn("There were no tabs found with the id of "+n+".\nPlease see the Rivet Tabs JavaScript API documentation for more info: \n"+o);return}var l=u.parentNode.querySelectorAll(t),f=i(l),a=f.map(function(n){var t=n.getAttribute("data-tab")||n.getAttribute("aria-controls");return document.getElementById(t)});f.forEach(function(n){n===u?s(n):h(n)});a.forEach(function(n){var t=u.getAttribute("data-tab")||u.getAttribute("aria-controls");n.id===t?n.removeAttribute("hidden"):n.setAttribute("hidden","hidden")});e=u.hasAttribute("data-tab")?"data-tab":"aria-controls";fireCustomEvent(u,e,"tabActivated");r&&typeof r=="function"&&r()}function u(n){var i=n.target.closest(t),u;i&&(u=i.getAttribute("data-tab")||i.getAttribute("aria-controls"),r(u))}function f(r){var f=r.target.closest(t);if(f){var s=f.parentNode.querySelectorAll(t),u=i(s),e=u.indexOf(f)+1,o=u.indexOf(f)-1;switch(r.keyCode){case n.right||n.down:u[e]?u[e].focus():u[0].focus();break;case n.down:u[e]?u[e].focus():u[0].focus();break;case n.left:u[o]?u[o].focus():u[u.length-1].focus();break;case n.up:u[o]?u[o].focus():u[u.length-1].focus();break;case n.end:u[u.length-1].focus();break;case n.home:u[0].focus();break;default:return}}}function e(n){n===undefined&&(n=document);n.removeEventListener("click",u,!1);n.removeEventListener("keydown",f,!1)}function c(n){n===undefined&&(n=document);e(n);n.addEventListener("click",u,!1);n.addEventListener("keydown",f,!1)}var o="https://rivet.uits.iu.edu/components/page-content/tabs/#javascript-api",n={end:35,home:36,left:37,up:38,right:39,down:40},t="[data-tab], .rvt-tabs__tab[aria-controls]";return{init:c,destroy:e,activateTab:r}}(),FileInput=function(){"use strict";function u(n){var t=document.createElement("div");return t.textContent=n,t.innerHTML}function f(n){var t=document.createElement("span");return t.textContent=n.files.length+" files selected",t}function e(n){var t=document.createElement("span"),i=u(n.files[0].name);return t.textContent=i,t}function t(t){var i=t.target.closest("["+n+"]");if(i){var s=i.getAttribute(n),u=document.getElementById(s),o=i.querySelector("[data-file-preview]");u.files.length>0?(o.innerHTML="",u.files.length>1?o.appendChild(f(u)):o.appendChild(e(u)),fireCustomEvent(i,n,"fileAttached")):o.innerHTML=r}}function i(n){n===undefined&&(n=document);n.removeEventListener("change",t,!1)}function o(n){n===undefined&&(n=document);i(n);n.addEventListener("change",t,!1)}var r="No file selected",n="data-upload";
/*!
   * Sanitize and encode all HTML in a user-submitted string
   * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
   * @param  {String} str  The user-submitted string
   * @return {String} str  The sanitized string
   */
return{init:o,destroy:i}}();(function(){Alert.init();Drawer.init();Dropdown.init();Modal.init();Tabs.init();FileInput.init()})();$(document).ready(function(){$("body").hasClass("pagemode-edit")||($("a").each(function(){if(!$(this).attr("aria-label")||$.trim($(this).attr("aria-label"))==""){var t=$(this).attr("target"),n="";$(this).attr("href")=="/"&&$(this).children().hasClass("rvt-lockup__tab")||(t==="_blank"&&(n=" that will open in a new tab"),$(this).attr("aria-label","This is a link to "+$(this).text()+" "+n+" and the URL is: "+$(this).attr("href")))}}),$("iframe").each(function(){$(this).attr("title")&&$.trim($(this).attr("title"))!=""||$(this).attr("title","This iframe links to this url: "+$(this).attr("src"))}),$(".section-content_img-responsive img").each(function(){var n=$(this).attr("style"),t=n.match(/height\s*:\s*([\d.]+)px/i),i=n.match(/width\s*:\s*([\d.]+)px/i),r=t?parseFloat(t[1]):NaN,u=i?parseFloat(i[1]):NaN,f="";isNaN(r)||isNaN(u)||(f=u+"/"+r);$(this).attr("style",function(n,t){var r=t.split(";"),i;return console.log(r),r=r.filter(function(n){var t=n.trim();return!/^height:/i.test(t)}),i=r.join(";"),i.endsWith(";")||(i+=";"),console.log(i),i+=" aspect-ratio:"+f+";",console.log(i),i})}))});